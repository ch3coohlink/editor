{"id":"c671af75f6bddb4180ac31257ab2f33740f9c25a74d8d2d727c6e510761ea3e8","to":[],"value":"[{\"type\":\"text\",\"value\":\"现在我们可以加载代码到工作线程。\",\"open\":true},{\"type\":\"ref\",\"line\":[1,11],\"value\":\"5783d75c33e8d6e6e7b0dac28fa68eaeb3db2c5130540d6db7aadea7fa19f86e\",\"open\":true},{\"type\":\"exec\",\"value\":\"block above\",\"open\":false},{\"type\":\"ref\",\"line\":[1,11],\"value\":\"bf66de86aa78304df6ae579cc1bf15ebb65ea02da6e46bb7b5742864b9d37208\",\"open\":true},{\"type\":\"text\",\"value\":\"上面的代码加载了一个在worker线程的计算负载，如果该线程因为计算而阻塞，右上角会出现一盏红灯进行指示。\",\"open\":true},{\"type\":\"ref\",\"line\":[1,11],\"value\":\"d8437a0a6403aa24ea29d8f5cc9b7b99217696828051522c7c532d8debfbadb3\",\"open\":true,\"content\":\"const cvs = await requestcanvas()\\r\\nconst ctx = await cvs.getContext('2d')\\r\\nconst now = () => performance.now() / 1000\\r\\n\\r\\nrequestAnimationFrame($.loop = () => {\\r\\n  const w = cvs.width, h = cvs.height, t = now()\\r\\n  ctx.clearRect(0, 0, w, h)\\r\\n  ctx.fillRect(w / 2 - 50 + Math.sin(t) * 100,\\r\\n    h / 2 - 50 + Math.cos(t) * 100, 100, 100)\\r\\n  requestAnimationFrame(loop)\\r\\n})\"},{\"type\":\"ref\",\"line\":[1,11],\"value\":\"cfab8500f008cef36253efd4ef861367bee73364fcbb30f1688ae4cbdc21551a\",\"open\":false},{\"type\":\"exec\",\"value\":\"block above\",\"open\":true}]"}