{"id":"f7f5bb16edad21d4382889d9b8cc9081a7dc4f440275a62eb82d9931b7d993ad","to":[],"value":"$.deepclone = (...a) => structuredClone(...a)\r\n$.deepequal = (a, b) => {\r\n  if (a === b) { return true } else if (\r\n    typeof a === \"object\" && a !== null && typeof b === \"object\" && b !== null) {\r\n    const ka = Object.keys(a)\r\n    if (ka.length !== Object.keys(b).length) { return false }\r\n    for (const k of ka) {\r\n      if (b.hasOwnProperty(k)) { if (!deepequal(a[k], b[k])) { return false } }\r\n      else { return false }\r\n    } return true\r\n  } else { return false }\r\n}\r\n\r\nconst _segmenter = new Intl.Segmenter(\"en\", { granularity: 'grapheme' })\r\n$.splitunicode = t => Array.from(_segmenter.segment(t), ({ segment }) => segment)\r\n\r\n$._ = undefined\r\n$.console = originconsole\r\n$.log = console.log\r\n$.now = () => performance.now() / 1000\r\n$.wait = t => new Promise(r => setTimeout(r, t))\r\n\r\n$.createcanvas = async () => {\r\n  const cvs = await requestcanvas()\r\n  cvs.dpi = await requestdpi()\r\n  cvs.needresize = true\r\n  on('canvasresize', () => cvs.needresize = true)\r\n  on('canvasresize', ({ w, h, dpi }) => w !== 0 && h !== 0\r\n    ? (cvs.width = w, cvs.height = h, cvs.dpi = dpi) : 0)\r\n  return cvs\r\n}\r\n\r\n$.debounce = (f, t = 100, i) => (...a) =>\r\n  (clearTimeout(i), i = setTimeout(() => f(...a), t))\r\n$.throttle = (f, t = 100, i) => (...a) =>\r\n  i ? 0 : (i = 1, f(...a), setTimeout(() => i = 0, t))"}