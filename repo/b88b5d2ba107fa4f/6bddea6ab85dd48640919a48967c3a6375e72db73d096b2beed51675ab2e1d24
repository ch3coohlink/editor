{"id":"6bddea6ab85dd48640919a48967c3a6375e72db73d096b2beed51675ab2e1d24","to":[],"value":"[{\"type\":\"text\",\"value\":\"现在我们可以加载代码到工作线程。\",\"open\":true},{\"type\":\"ref\",\"line\":[0,10],\"value\":\"5783d75c33e8d6e6e7b0dac28fa68eaeb3db2c5130540d6db7aadea7fa19f86e\",\"open\":true},{\"type\":\"exec\",\"value\":\"block above\",\"open\":false},{\"type\":\"ref\",\"line\":[0,10],\"value\":\"723c813073b364bf75a39dac54826694ec1752e7bcd185ddbfc7210193d8adc3\",\"open\":true},{\"type\":\"text\",\"value\":\"上面的代码加载了一个在worker线程的计算负载。\",\"open\":true},{\"type\":\"ref\",\"line\":[0,10],\"value\":\"d8437a0a6403aa24ea29d8f5cc9b7b99217696828051522c7c532d8debfbadb3\",\"open\":true,\"content\":\"const cvs = await requestcanvas()\\r\\nconst ctx = await cvs.getContext('2d')\\r\\nconst now = () => performance.now() / 1000\\r\\n\\r\\nrequestAnimationFrame($.loop = () => {\\r\\n  const w = cvs.width, h = cvs.height, t = now()\\r\\n  ctx.clearRect(0, 0, w, h)\\r\\n  ctx.fillRect(w / 2 - 50 + Math.sin(t) * 100,\\r\\n    h / 2 - 50 + Math.cos(t) * 100, 100, 100)\\r\\n  requestAnimationFrame(loop)\\r\\n})\"},{\"type\":\"ref\",\"line\":[0,10],\"value\":\"cfab8500f008cef36253efd4ef861367bee73364fcbb30f1688ae4cbdc21551a\",\"open\":false},{\"type\":\"exec\",\"value\":\"block above\",\"open\":true}]"}